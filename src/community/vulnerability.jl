"""
  vulnerability(N::UnipartiteNetwork)

This function is mesuring the vulnerability of a given network. The vulnerability of a network represents the ink density (L/S) divided by the number of preys. The number of preys: (prop. of basal + prop. of top) x S
"""

function vulnerability(N::UnipartiteNetwork)
    out_degree = collect(values(degree(N; dims=1)))
    in_degree = collect(values(degree(N; dims=2)))
    degrees = DataFrame(out=out_degree, in=in_degree)
    B = nrow(degrees[degrees.out .== 0, :]) / nrow(degrees)
    T = nrow(degrees[degrees.in .== 0, :]) / nrow(degrees)
    I = nrow(degrees[(degrees.out .!= 0) .& (degrees.in .!= 0), :]) / nrow(degrees)
    L = links(N)
    Vulnerability = links_1 ./ (S.^2 .* (B .+ I))
    return Vulnerability
end
